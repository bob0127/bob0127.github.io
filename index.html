<!DOCTYPE html>
<html>
    <head>
        <title>塔羅牌</title>
    </head>
    <body>
        <style>
            .red-text {
              color: red;
            }
          
            p {
              font-size: 16px;
            }
        </style>
        <form onsubmit="event.preventDefault();">
            <input type="text" id="year" placeholder="輸入出生年" required>
            <br>
            <input type="text" id = "month" placeholder="輸入出生月" required>
            <br>
            <input type="text" id = "day" placeholder="輸入出生日" required>
            <br>
            <button onclick="calculate()">計算</button>
            <p class="red-text" id="result">結果： </p>
        </form>
    </body>
</html>

<script>
    function calculate() {
        // 獲取用戶輸入的值
        var num1 = parseInt(document.getElementById('year').value);
        var num2 = parseInt(document.getElementById('month').value);
        var num3 = parseInt(document.getElementById('day').value);
        if(num1<1000)
            num1+=1911;
        var first = 0;
        if(num3>22){
            var first=num3;
            while(first>=10){
                first=Math.floor(first/10+first%10);
            }
        }else {
            first = Math.floor(num3%22);
        }
        var yeardiv = 0;
        while(num1>0){
            yeardiv+=Math.floor(num1%10);
            num1=Math.floor(num1/10);
        }      
        var third = Math.floor((yeardiv+num2+num3)%22);
        var second = yeardiv;
        if(num2>9) second += Math.floor(num2/10+num2%10);
        else second += num2;
        if(num3>9)second +=Math.floor(num3/10+num3%10);
        else second += num3;
        
        
        var myArray = ["魔術師","女祭司","皇后","國王","教皇","戀人","戰車","力量","隱者","命運之輪","正義","吊人",
"死神","節制","惡魔","塔","星星","月亮","太陽","審判","世界","愚者"];
        // 將結果顯示在頁面上
        var list = [0,31,59,90,120,151,181,212,243,273,304,334];
        var forth = Math.floor((list[num2-1]+num3)%22);
        var fifth = Math.floor((forth+21)%22);
        var sixth = Math.floor((forth+1)%22);
        document.getElementById('result').innerText = '結果：\n'+myArray[first]+first+"\n"+myArray[second]+second+"\n"+myArray[third]+third+"\n"+
        myArray[forth]+forth+"\n"+myArray[fifth]+fifth+"\n"+myArray[sixth]+sixth;
    }   

</script>